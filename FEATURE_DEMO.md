# Root 环境隐藏方案 - 功能演示

本文档展示新增的 Root 环境隐藏功能的界面和使用流程。

## 主菜单新增选项

```
================================================
    三角洲痕迹清理工具 - 无痕专业版 V1.0.0
================================================

设备: DEVICE_MODEL [Android VERSION]
时间: 2025-12-05
用户: root
版本: 1.0.0
支持: @闲鱼:WuTa
================================================

请选择操作:

  [1] 下发文件检测
      检测风险文件和监控痕迹

  [2] 深度环境监测
      检测设备安全状态和潜在风险

  [3] 清理文件部分
      执行基础文件和数据清理

  [4] 设备硬件标识变更
      修改设备指纹和网络标识

  [5] 全维深度核心清理
      一键执行清理和标识变更(选项3+4)

  [6] Root环境隐藏方案  ← 新增功能 ✨
      检测Root环境并提供隐藏配置方案

  [0] 退出工具

================================================
操作有风险！请谨慎清理，数据丢失后果自负。
技术支持: @闲鱼:WuTa
================================================
```

---

## 功能 1: Root 环境检测

### 输入：选择 [6] → [1]

### 输出示例（Magisk 环境）：

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
       Root 环境检测
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[检测结果]

  [√] Root 类型: Magisk
  [√] Root 版本: 27.0
  [√] Zygisk 状态: 已启用
  [√] 已安装模块数: 5

[关键隐藏模块检测]
  [√] Shamiko: 已安装
  [√] Hide My Applist: 已安装
  [×] PlayIntegrityFix: 未安装
  [×] Tricky Store: 未安装

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

按回车键继续...
```

### 输出示例（未安装模块）：

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
       Root 环境检测
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[检测结果]

  [√] Root 类型: Magisk
  [√] Root 版本: 27.0
  [√] Zygisk 状态: 已启用
  [×] 已安装模块数: 0

[关键隐藏模块检测]
  [×] Shamiko: 未安装
  [×] Hide My Applist: 未安装
  [×] PlayIntegrityFix: 未安装
  [×] Tricky Store: 未安装

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

## 功能 2: 查看隐藏方案

### 输入：选择 [6] → [2]

### 输出示例（Magisk）：

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
       Root 环境隐藏方案
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【终极隐藏组合】适用于 Magisk 26+
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

必装模块：
  ✓ Zygisk（内置，需在设置中启用）
  ✓ Shamiko v1.0+ - 隐藏 Root 核心
  ✓ Hide My Applist (HMAL) - 隐藏应用列表

推荐模块：
  ○ PlayIntegrityFix - 通过 SafetyNet/Play Integrity
  ○ Tricky Store - 密钥认证绕过
  ○ LSPosed - 高级 Hook 框架

配置步骤：
  1. Magisk 设置 → 启用 Zygisk
  2. 安装 Shamiko，重启
  3. 安装 HMAL，配置黑名单模式
  4. 添加游戏到 Denylist
  5. 在 HMAL 中隐藏 Magisk 相关应用

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

按回车键继续...
```

### 输出示例（KernelSU）：

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
       Root 环境隐藏方案
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【KernelSU 隐藏组合】
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

必装模块：
  ✓ Zygisk Next - KSU 的 Zygisk 实现
  ✓ Shamiko - 配合 Zygisk Next 使用
  ✓ Hide My Applist

配置步骤：
  1. KernelSU → 安装 Zygisk Next
  2. 安装 Shamiko 模块
  3. 配置应用管理，取消勾选游戏的 Root 权限
  4. 在 HMAL 中隐藏 KSU Manager

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

## 功能 3: 一键配置隐藏

### 输入：选择 [6] → [3]

### 输出示例：

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
       一键配置隐藏环境
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

检测当前配置状态...

  [√] Magisk 已安装
  [√] Zygisk 已启用
  [×] Shamiko 未安装
  [×] Hide My Applist 未安装
  [×] 三角洲行动 未添加到 Denylist

是否执行一键配置？(y/N): y

开始自动配置...

[1/4] 添加游戏到 Denylist...
  [√] 三角洲行动已添加到 Denylist

[2/4] 配置 Shamiko...
  [!] 请手动下载并安装 Shamiko 模块

[3/4] 配置 Hide My Applist...
  [!] 请手动下载并安装 Hide My Applist

[4/4] 清理 Root 痕迹...
  [√] 已清理部分 Root 痕迹

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[完成] 隐藏配置已完成！
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

提示：
  1. 请重启设备以应用配置
  2. 如有模块未安装，请查看模块下载地址
  3. 建议配合三角洲专项配置使用

按回车键继续...
```

---

## 功能 4: 三角洲专项配置

### 输入：选择 [6] → [4]

### 输出示例：

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
    三角洲行动 Root 隐藏配置
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

目标：绕过 ACE 反作弊检测

检测游戏版本...

  [√] 检测到: 三角洲行动 (国服)

必须配置项：

[1/4] 检查 Magisk Denylist...
  [√] 游戏已在 Denylist 中

[2/4] Hide My Applist 配置...
  [√] Hide My Applist 已安装
  [!] 请在 HMAL 中对三角洲行动隐藏：
      - Magisk/KSU Manager
      - 终端模拟器 (Termux 等)
      - Root 管理类应用
      - 修改器/外挂类应用

[3/4] 系统特征隐藏...
  [!] 需要隐藏的特征：
      ✓ su 二进制文件
      ✓ Magisk 相关文件
      ✓ /data/adb 目录
      ✓ Root 相关 props

[4/4] 高级配置建议...
  ○ 启用 Shamiko 白名单模式
  ○ 配置 Tricky Store 通过设备认证
  ○ 清理游戏风控数据后再启动

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[完成] 三角洲专项配置检查完成
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

建议：
  1. 重启设备后再启动游戏
  2. 首次启动前清理游戏数据
  3. 定期检查隐藏模块更新

按回车键继续...
```

---

## 功能 5: Root 痕迹清理

### 输入：选择 [6] → [5]

### 输出示例：

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
       Root 痕迹深度清理
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[警告] 此操作可能影响 Root 功能
建议在需要隐藏 Root 时使用

确定要清理 Root 痕迹吗？(y/N): y

开始清理 Root 痕迹...

[1/5] 清理 Root 痕迹文件...
  [√] 已删除: /system/xbin/su
  [√] 已删除: /data/local/tmp/su

[2/5] 清理 Busybox 痕迹...
  [√] 未检测到异常

[3/5] 清理 Hook 框架痕迹...
  [√] 无 Xposed 痕迹

[4/5] 修复 SELinux 上下文...
  [√] SELinux 上下文已修复

[5/5] 清理系统日志...
  [√] 已清理 tombstones
  [√] 已清理 dropbox
  [√] 已清理 logcat

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[完成] Root 痕迹清理完成！
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

提示：
  1. 建议重启设备后生效
  2. 部分痕迹可能需要 Shamiko 等模块配合

按回车键继续...
```

---

## 功能 6: 模块下载地址

### 输入：选择 [6] → [6]

### 输出示例：

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
       隐藏模块下载地址
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【Shamiko】Root 隐藏核心
  https://github.com/LSPosed/LSPosed.github.io/releases

【Hide My Applist】应用列表隐藏
  https://github.com/Dr-TSNG/Hide-My-Applist/releases

【PlayIntegrityFix】完整性修复
  https://github.com/chiteroman/PlayIntegrityFix/releases

【Tricky Store】密钥认证绕过
  https://github.com/5ec1cff/TrickyStore/releases

【Zygisk Next】KernelSU 专用
  https://github.com/Dr-TSNG/ZygiskNext/releases

【Cherish Peekaboo】APatch 专用
  https://github.com/kikacc/Cherish-Peekaboo/releases

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

提示：
  1. 请从官方 GitHub 下载模块
  2. 安装后需重启设备
  3. 不同 Root 方案需要不同模块

按回车键继续...
```

---

## Root 环境隐藏子菜单

### 输入：选择 [6]

### 输出：

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
       Root 环境隐藏方案
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

请选择操作:

  [1] 检测 Root 环境
      检测当前 Root 类型、版本和已安装模块

  [2] 查看隐藏方案
      根据 Root 类型显示推荐的模块搭配组合

  [3] 一键配置隐藏
      自动添加游戏到隐藏列表，配置已安装模块

  [4] 三角洲专项配置
      针对三角洲行动的 ACE 反作弊隐藏配置

  [5] Root 痕迹清理
      深度清理 Root 相关痕迹文件

  [6] 模块下载地址
      显示所有隐藏模块的下载链接

  [0] 返回主菜单

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

请输入选择 (0-6):
```

---

## 使用流程示例

### 完整配置流程：

```
1. 启动脚本
   $ su
   # sh dele.sh

2. 进入 Root 隐藏功能
   请输入选择 (0-6): 6

3. 检测当前环境
   请输入选择 (0-6): 1
   [查看检测结果]

4. 查看隐藏方案
   请输入选择 (0-6): 2
   [查看推荐配置]

5. 下载必要模块
   请输入选择 (0-6): 6
   [复制下载链接，安装模块]

6. 一键配置
   请输入选择 (0-6): 3
   是否执行一键配置？(y/N): y

7. 三角洲专项配置
   请输入选择 (0-6): 4
   [查看专项配置提示]

8. 清理 Root 痕迹
   请输入选择 (0-6): 5
   确定要清理 Root 痕迹吗？(y/N): y

9. 返回主菜单
   请输入选择 (0-6): 0

10. 重启设备
    # reboot
```

---

## 功能特点

### 🎨 美观的界面
- 使用彩色输出（GREEN、YELLOW、CYAN、RED 等）
- Unicode 符号装饰（✓、×、○、━）
- 清晰的分隔线和层次结构

### 🔍 智能检测
- 自动识别 Root 类型
- 检测模块安装状态
- 验证配置完整性

### ⚡ 便捷操作
- 一键自动配置
- 智能提示缺失项
- 防误操作确认

### 📚 详细指导
- 分步骤配置说明
- 针对性隐藏方案
- 完整下载链接

### 🎮 游戏支持
- 重点支持三角洲行动
- 支持多个游戏版本
- 专项反作弊配置

---

## 技术亮点

1. **Root 类型检测**
   - 支持 Magisk、KernelSU、APatch
   - 版本信息获取
   - 模块状态检查

2. **自动化配置**
   - Denylist 自动添加
   - 模块配置检测
   - 痕迹清理自动化

3. **安全保护**
   - 操作前确认
   - 备份提示
   - 风险警告

4. **用户友好**
   - 中文界面
   - 详细提示
   - 进度反馈

---

## 注意事项

⚠️ **重要提示**
- 所有操作需要 Root 权限
- 建议在测试设备上先行测试
- 配置完成后需重启设备
- 请遵守游戏服务条款

---

**版本**: v1.0.0  
**更新日期**: 2025-12-05  
**技术支持**: @闲鱼:WuTa
